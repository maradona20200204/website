<!DOCTYPE html>
<html lang="en" height="100%">
<head>
    <link rel="stylesheet" type="text/css" href="/static/bootstrap.min.css"  />
    <link rel="stylesheet" type="text/css" href="/static/bootstrap-switch.min.css" />
    <link rel="stylesheet" type="text/css", href="/static/bootstrap.css" />
    <script type="text/javascript" src="/static/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdn.fancygrid.com/fancy.min.js"></script>
    <script type="text/javascript" src="/static/bootstrap.min.js"></script>    
    <style>
        .EmailDiv{
            top:36%;
            position:absolute;
        }
        .Email{
            color:#222222;
            position:absolute;
            background-color:#ccffff
        }
        .Email:hover{
            color:#ffffff;
            background-color:#800040;
            cursor:pointer;
        }
        .GPU{
            color:#222222;
            position:absolute;
            background-color:#ccffff
        }
        .GPU:hover{
            color:#ffffff;
            background-color:#800040;
            cursor:pointer;
        }
        .GPUDiv{
            position:absolute;
            top:42%;
            width:100%;
        }
        .Table{
            position:absolute;
            top:60%;
            height:200px;
            width:100%;
        }
        .DetailedInfo{
            color:#222222;
            position:absolute;
            background-color:#ccffff;
            width:100%;
        }
        .GPUInfo{
            position:absolute;
            background-color:#ccffff;
            width:100%;
        }
        
        .GPUInfo:hover{
            color:#ffffff;
            background-color: #e6b3ff;
            cursor:pointer;
        }
        
        .fancy-grid-cell{
            background-color:#ffffff;         
        }
        .fancy-grid-cell:hover{
            background-color:#f2ccff;         
        }
         .fancy-grid-cell-even{
            background-color:#ffffff;         
        }
        .fancy-grid-cell-even:hover{
            background-color:#bdbdbd;         
        }
        
    </style>
</head>
<body style="height:100%">
    <nav class="navbar navbar-inverse" role="navigation">
        <div style="position:absolute;top:0px;width:100%;height:50px;">
            <ul class="nav navbar-nav">
                <li><a href="" id="HomeButton">Home</a></li>
                <li><a href="https://www.google.com" target="_Blank">Google</a></li>
                <li><a href="https://www.baidu.com" target="_Blank">Baidu</a></li>
                <li><a href="https://stackoverflow.com/" target="_Blank">SO</a></li>
                <li><a href="https://www.wikipedia.org/" target="_Blank">Wiki</a></li>
                <li><a href="https://ieeexplore.ieee.org/Xplore/home.jsp" target="_Blank">IEEE Xplore</a></li>
                <li><a href="https://www.sciencedirect.com/" target="_Blank">Elsevier</a></li>
                <li><a href="https://arxiv.org/" target="_Blank">Arxiv</a></li>
                <li><a href="https://scihub.wikicn.top/" target="_Blank">Sci-Hub</a></li>
                <li><a href="http://119.45.172.221:8888/" target="_Blank">Jupyter</a></li>
                <li><a href="http://119.45.172.221:7523/" target="_Blank">FRP dashboard</a></li>
                <li><a href="http://119.78.243.182/web/contentShizi.html" target="_Blank">Yongxin Zhu</a></li>
                <li><a href="http://sep.ucas.ac.cn/" target="_Blank">SEP</a></li>
                <li><a href="https://www.gmail.com" target="_Blank">Gmail</a></li>
            </ul>
        </div>
    </nav>
    <div class="picdiv" style="position:absolute;top:50px;width:100%;max-height:200px;height:200px;overflow:hidden;background-image:url('static/deblur.jpg');background-repeat:no-repeat; background-size:cover;text-align:center;font-size:50px;text-shadow:#000 1px 0 0,#000 0 1px 0,#000 -1px 0 0,#000 0 -1px 0;font-size:60px;font-weight:bold;color:#2E64FE">    
        <span style="position:absolute;top:50px;align:center;padding:0;margin:0;border:0;left:44%">CISLab</span>
    </div>
    <div class="EmailDiv">
        <span class="Email">Email</span><br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="mailto:miaosi2018@sari.ac.cn">miaosi2018@sari.ac.cn (Academic) </a>; 
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="mailto:miaosi2018@gmail.com">miaosi2018@gmail.com (Industrial) </a>;
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="mailto:2904661326@qq.com" >2904661326@qq.com (Personal) </a>;
    </div>
    <div class="GPUDiv">
        <span class="GPU">GPU</span><br><br>
        <div class="DetailedInfo" id="DetailedInfo">
            
        </div>
    </div>
    <div class="Table" id="Table">
        
    </div>
    <script>
        //Please note that ip and port would be modified by the server according to the server ip.
        //The server would add the protocol.
        var ip = "127.0.0.1";
        var port = 0;
        var wsport = port;
        var time = 5;//time
        var wsaddr = "ws://"+ip+":"+wsport.toString()+'/websocket';
        document.getElementById("HomeButton").setAttribute("href", protocol + "://" + ip + ":" + port.toString()); 
        window.setInterval(RetryFunction, 1000 * time);
        var websocket = null;
       document.addEventListener("DOMContentLoaded", function() {
          new FancyGrid({
            theme: 'extra-gray',
            title: 'Training Data (Log)',
            renderTo: 'Table',
            width: 1200,
            height: 400,
            data: data,
            defaults: {
              type: 'string',
              width: 300,
              sortable: true
            },
            columns: [{
              index: 'company',
              locked: true,
              title: 'Company'
            }, {
              index: 'name',
              title: 'Name'
            }, {
              index: 'surname',
              title: 'Sur Name'
            }, {
              index: 'age',
              title: 'Age',
              type: 'number'
            }]
          });
        });

        var data = [{
          name: 'Ted',
          surname: 'Smith',
          position: 'Java Developer',
          email: 'ted.smith@gmail.com',
          company: 'Electrical Systems',
          age: 30,
          education: 'High School Of Cambridge',
          knownledge: 'Java, Ruby'
        }, {
          name: 'Ed',
          surname: 'Johnson',
          position: 'C/C++ Market Data Developer',
          email: 'ed.johnson@gmail.com',
          company: 'Energy and Oil',
          age: 35,
          education: 'High School Of Cambridge',
          knownledge: 'C++'
        }, {
          name: 'Sam',
          surname: 'Williams',
          position: 'Technical Analyst',
          email: 'sam.williams@gmail.com',
          company: 'Airbus',
          age: 38,
          education: 'High School Of Cambridge',
          knownledge: ''
        }, {
          name: 'Alexander',
          surname: 'Brown',
          position: 'Project Manager',
          email: 'alexander.brown@gmail.com',
          company: 'Renault',
          age: 24,
          education: 'High School Of Cambridge',
          knownledge: ''
        }, {
          name: 'Nicholas',
          surname: 'Miller',
          position: 'Senior Software Engineer',
          email: 'nicholas.miller@gmail.com',
          company: 'Adobe',
          age: 33,
          education: 'High School Of Cambridge',
          knownledge: 'Unix, C/C++'
        }, {
          name: 'Andrew',
          surname: 'Thompson',
          position: 'Agile Project Manager',
          email: 'andrew.thompson@gmail.com',
          company: 'Google',
          age: 28,
          education: 'High School Of Cambridge',
          knownledge: ''
        }, {
          name: 'Ryan',
          surname: 'Walker',
          position: 'Application Support Engineer',
          email: 'ryan.walker@gmail.com',
          company: 'Siemens',
          age: 39,
          education: 'High School Of Cambridge',
          knownledge: 'ActionScript'
        }, {
          name: 'John',
          surname: 'Scott',
          position: 'Flex Developer',
          email: 'john.scott@gmail.com',
          company: 'Cargo',
          age: 45,
          education: 'High School Of Cambridge',
          knownledge: 'Flex'
        }, {
          name: 'James',
          surname: 'Phillips',
          position: 'Senior C++/C# Developer',
          email: 'james.phillips@gmail.com',
          company: 'Pro bugs',
          age: 30,
          education: 'High School Of Cambridge',
          knownledge: 'C/C++, Unix'
        }, {
          name: 'Brian',
          surname: 'Edwards',
          position: 'UNIX/C++ Developer',
          email: 'brian.edwards@gmail.com',
          company: 'IT Consultant',
          age: 23,
          education: 'High School Of Cambridge',
          knownledge: 'C/C++ Unix'
        }, {
          name: 'Jack',
          surname: 'Richardson',
          position: 'Ruby Developer',
          email: 'jack.richardson@gmail.com',
          company: 'Europe IT',
          age: 24,
          education: 'High School Of Cambridge',
          knownledge: 'Ruby'
        }, {
          name: 'Alex',
          surname: 'Howard',
          position: 'CSS3/HTML5 Developer',
          email: 'alex.howard@gmail.com',
          company: 'Cisco',
          age: 27,
          education: 'High School Of Cambridge',
          knownledge: 'CSS3/HTML5'
        }, {
          name: 'Carlos',
          surname: 'Wood',
          position: 'Node.js Developer',
          email: 'carlos.wood@gmail.com',
          company: 'HP',
          age: 36,
          education: 'High School Of Cambridge',
          knownledge: 'Node.js'
        }, {
          name: 'Adrian',
          surname: 'Russell',
          position: 'Frontend Developer',
          email: 'adrian.russell@gmail.com',
          company: 'Micro Systems',
          age: 31,
          education: 'High School Of Cambridge',
          knownledge: 'HTML, JavaScript'
        }, {
          name: 'Jeremy',
          surname: 'Hamilton',
          position: 'Scala Developer',
          email: 'jeremy.hamilton@gmail.com',
          company: 'Big Machines',
          age: 30,
          education: 'High School Of Cambridge',
          knownledge: 'Scala'
        }, {
          name: 'Ivan',
          surname: 'Woods',
          position: 'Objective C Developer',
          email: 'ivan.woods@gmail.com',
          company: '',
          age: 24,
          education: 'High School Of Cambridge',
          knownledge: 'Objective C'
        }, {
          name: 'Peter',
          surname: 'West',
          position: 'PHP/HTML Developer',
          email: 'peters.west@gmail.com',
          company: 'Adobe',
          age: 26,
          education: 'High School Of Cambridge',
          knownledge: 'PHP/HTML'
        }, {
          name: 'Scott',
          surname: 'Simpson',
          position: 'Designer',
          email: 'scott.simpson@gmail.com',
          company: 'IBM',
          age: 29,
          education: 'High School Of Cambridge',
          knownledge: 'Adobe PhotoShop'
        }, {
          name: 'Lorenzo',
          surname: 'Tucker',
          position: 'Architect',
          email: 'lorenzo.tucker@gmail.com',
          company: 'Intel',
          age: 29,
          education: 'High School Of Cambridge',
          knownledge: ''
        }, {
          name: 'Randy',
          surname: 'Grant',
          position: 'Engineer',
          email: 'randy.grant@gmail.com',
          company: 'Bridges',
          age: 30,
          education: 'High School Of Cambridge',
          knownledge: ''
        }, {
          name: 'Arthur',
          surname: 'Gardner',
          position: 'Analytic',
          email: 'arthur.gardner@gmail.com',
          company: 'Google',
          age: 31,
          education: 'High School Of Cambridge',
          knownledge: ''
        }, {
          name: 'Orlando',
          surname: 'Ruiz',
          position: 'Unit Testing Developer',
          email: 'orlando.ruiz@gmail.com',
          company: 'Apple',
          age: 32,
          education: 'High School Of Cambridge',
          knownledge: ''
        }];
        
        function update(event){
            //update GPU info
            if(!websocket || !(websocket instanceof WebSocket) || websocket.readyState!=1) {s
                return;
            }
            try{
                var data = event.data;
                var obj = JSON.parse(data);
                var message = obj.message;
                if(obj.status === 'True')
                     document.getElementById("DetailedInfo").innerHTML = message;
            }
            catch(err)
            {
                 console.table(err);   
            }
        }
        
        
        try{
            websocket = new WebSocket(wsaddr); 
            websocket.onmessage = update;
        }
        catch(err)
        {
            console.warn("The initial websocket is disconnected.")   
        }
        
        
        function RetryFunction() {
            try{
                if(!websocket || !(websocket instanceof WebSocket) || websocket.readyState != WebSocket.OPEN){
                    console.warn("The websocket (" + wsaddr + ") has been closed!");
                    if(websocket.readyState == WebSocket.CONNECTING)
                        websocket.close()
                    websocket = new WebSocket(wsaddr);
                    //console.log("In RetryFunction, we have tried to connect to the websocket! websocket.readyState = " + websocket.readyState.toString())
                    if(websocket.readyState == 1){
                        //console.log("Congratulations, it has connected!");
                        websocket.onmessage = update;
                    }
                }
                else{
                    if(!websocket.onmessage) websocket.onmessage = update;
                }
            }
            catch(err){
                console.warn("RetryFunction has an unknown bug now!")
                console.table(err);
            }
        }
        
    </script>
</body>